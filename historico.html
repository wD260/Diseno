<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta Histórica del GPS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
</head>
<body>
    <h2>Consulta Histórica del GPS</h2>
    <label for="fechaInicio">Fecha de Inicio:</label>
    <input type="date" id="fechaInicio">
    <label for="horaInicio">Hora de Inicio:</label>
    <select id="horaInicio"></select>
    <select id="minutoInicio"></select>

    <label for="fechaFin">Fecha de Fin:</label>
    <input type="date" id="fechaFin">
    <label for="horaFin">Hora de Fin:</label>
    <select id="horaFin"></select>
    <select id="minutoFin"></select>

    <button onclick="consultar()">Consultar</button>
    <button onclick="regresarTiempoReal()">Regresar a consulta en tiempo real</button>

    <div id="map" style="height: 500px;"></div>

    <script>
        function cargarOpcionesTiempo() {
            let horaSelects = [document.getElementById('horaInicio'), document.getElementById('horaFin')];
            let minutoSelects = [document.getElementById('minutoInicio'), document.getElementById('minutoFin')];
            
            for (let i = 0; i < 24; i++) {
                let opcion = document.createElement('option');
                opcion.value = (i < 10 ? '0' : '') + i;
                opcion.text = (i < 10 ? '0' : '') + i;
                horaSelects.forEach(select => select.appendChild(opcion.cloneNode(true)));
            }

            for (let i = 0; i < 60; i += 10) {
                let opcion = document.createElement('option');
                opcion.value = (i < 10 ? '0' : '') + i;
                opcion.text = (i < 10 ? '0' : '') + i;
                minutoSelects.forEach(select => select.appendChild(opcion.cloneNode(true)));
            }
        }

        function consultar() {
            let fechaInicio = document.getElementById('fechaInicio').value;
            let horaInicio = document.getElementById('horaInicio').value;
            let minutoInicio = document.getElementById('minutoInicio').value;
            let fechaFin = document.getElementById('fechaFin').value;
            let horaFin = document.getElementById('horaFin').value;
            let minutoFin = document.getElementById('minutoFin').value;
            
            console.log(`Consulta desde ${fechaInicio} ${horaInicio}:${minutoInicio} hasta ${fechaFin} ${horaFin}:${minutoFin}`);
        }

        function regresarTiempoReal() {
            window.location.href = 'index.html';
        }

        document.addEventListener("DOMContentLoaded", cargarOpcionesTiempo);
    </script>
</body>
</html>
